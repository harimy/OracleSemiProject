4/13(화) ER Diagram 1차 피드백 

er 다이어그램 같은 경우에는 변경사항이 한 군데서 발생해도 그부분만 변경하면안됨
어디선가 문제가 발생하면 처음부터 갈아엎고 다시 재구성 필요.

1. 학생 테이블
- 데이터가 입력이 되는 액션은 학생이 등록을 할 때 insert가 되는데 중도탈락 코드는 어떻게 입력이 되는것?
- 12500명중에 1000명을 위해 한 컬럼을 다 쓰게 되는 문제가 발생한다.
- 90프로가 중도탈락이고 10프로가 수료라고 하면 이 구조로 짜도 문제가 되지 않지만,
- 거의 대부분의 학생들이 중도탈락을 하지 않는데 중도탈락 컬럼을 하나씩 다 가지고 있으면 바람직 하지 않은 상태.
- 참조 관계자체도 중도탈락이라는 테이블이 있다면 어떠한 사유로 어떠한 날짜에 중도탈락을 했다라는 값을 가지고 참조가 되어야 한다.
- 중도탈락에 데이터가 이미 있어야 학생이 등록될 수 있음.

+ tip 
만약에 쇼핑몰과 관련된 db설계에서 반품관련 테이블이 있다면

	   반품 
  회원코드 	 반품일자  
  민지		 2021-04-13

-> 회원이기만 하면 반품을 할 수 있다 = 물건을 구입하지 않은 사람도 반품할 수 있다
-> 수강을 하지 않은 사람도 중도탈락을 할 수 있는 문제가 발생 


2. 로그인
- 아이디와 비밀번호를 입력 후 버튼을 누르면 쿼리가 돌아야 하는데 from 에 들어가는 테이블이 무엇? -> 로그인 테이블이요
- 학생에 2000건, 교수가 100건, 관리자가 50건 있으면 로그인에 2150건의 데이터가 들어가게 되고
- 이는 다 1:1관계이기 때문에 굳이 로그인 테이블이 필요가 없음 


Q. 질문
학생이 회원가입을 한 다음 과정에 대해 신청을 할 거 아냐?
과정을 신청하면 어디에 INSERT 되는 거야?

-> 민지 : 수강신청 테이블 만들고 중도탈락도 거기서 하면 되겠다. 


----------------------------------------------------------------------------------------------------------------------------------
4/14(수) ER Diagram 2차 피드백

1. 로그인
- 데이터로 구별하여 기능을 구현하는것은 절대 바람직하지 않고 굉장히 위험한 행위임
- 학생 테이블에 있는 것 데이터가 교수자 아이디 패턴을 가지고 있으면 학생과 교수를 구별할 수 없는 문제가 발생함
- 구인구직 사이트, 학교, 학원에서 처럼 교수자, 학생, 관리자로 선택해서 로그인 할 수 있도록 해야함 
- 학생, 관리자, 교수자 테이블을 분리한 것은 바람직함
- 하지만 이상태로는 로그인 할 수가 없다. FROM 절을 쓸 수 없으므로.
- 연결고리가 없기 때문에 세 테이블이 조인될 수 있는 모델도 아니다.
- 세 테이블은 각기 다른 세개의 독립적인 모델이다. 
- 정형화 되어있는 데이터가 기능을 제한하도록 해서는 안된다.

- 데이터 설계 과정에서는 프로시저라는 단어가 등장할 일이 없다.
- 프로시저에 대한 얘기는 배제하고 설계할 것. 

Q. 프로시저를 쓸려고 했을 때 교수가 성적을 입력할 때 출결/필기/실기만 입력할 수 있는데
수강신청코드나, 과목코드 같은건 자동으로 넣을 수 있도록 프로시저를 사용하려고 했는데 그럼 이것도 잘못된 건가요?
- 아니 프로시저를 쓰면 안되는게 아니라 이걸 쿼리문으로 구성만 할 수 있으면 돼.
- 프로시저는 절차적으로 쿼리를 묶어놓는 기능일 뿐이지 대단한 기능을 하는게 아님.
=> 교수가 성적을 입력할 때 프로시저를 사용해도 됨.

2. 관리자의 로그인 문제
- 관리자는 지금 이 구조에서는 로그인을 못하는데 ? 
- 연결이 안되어있다고 뭐라하는게 아닌데?
- 패스워드가 없는데 어떻게 로그인해 ?
=> 관리자의 패스워드 컬럼을 추가해야함.

3. 아이디/패스워드
- 그리고 지금 이 구조에서는 패스워드를 기본설정에서 영원히 바꾸지 못하는 문제가 있음 
- 교수/학생/관리자의 아이디가 중복될 수 있는 문제가 발생
=> 아이디 만들 때 여러 테이블에 대해서 중복체크를 해주는 것도 하나의 방법이 될 수 있다

4. 과정은 오로지 하나밖에 없는 것.
- 과정명이 과정코드에 의존적이지 않게 됨
- ex)
	과정코드 	과정명
	1 		융합 소프트웨어 개발과정
	7 		융합 소프트웨어 개발과정
=> 테이블 분리가 필요하다. (과정테이블, 과정개설테이블)

5. 의미상으로 헷갈릴 수 있으니까 '강의과목'이라고 되어있는 테이블을 '과목개설'로 바꾸자

6. 배점
ex. 오라클 과목의 배점을 출결 50, 필기 20, 실기 30 으로 한다고 가정할 때,
배점 : 점수에 대한 배정 비율
- 현재의 방식은 배점은 아니고 총합이 100점을 넘지 않도록 제한하는 것이다.
- 이부분도 반영해서 재구성 합시다. 


----------------------------------------------------------------------------------------------------------------------------------
4/14(수) ER Diagram 3차 피드백

1. 어떤 과목이 만들어 질 때, 과정이 아니라 개설된 과정에 의존적으로 만든거지?
그럼 여기서 과정코드를 참조하는게 아니라 개설과정코드를 참조해야겠지?
=> 과정개설 테이블에서 과정코드 → 개설과정코드로 수정하기


2. 배점
- 과목이 개설된 이 코드를 참조해서 배점을 구성하게 했잖아.
- 그럼 A라는 과목을 개설 했어, 그럼 배점이 여러개가 참조하게 되겠지? 
- 지금은 1:1 관계잖아.
- 구태여 이걸 쪼갠다면, 배점에서 
- 50/30/20 을 A과목에서 , B과목에서, C과목에서 참조해서 쓴다면 모르겠는데, 지금 이건 반대잖아.
- 지금은 1:1 관계니까 오히려 테이블이 하나여도 상관없는 상태
① 1:1 구조로 그대로 끌고가고 싶다면 한 테이블로 합치거나
② 참조관계를 반대로 해서 50/30/20을 개설과목에서 가져다 쓰는 방식으로 바꿔줘야 함
=> ②번 방식으로 과목개설에서 배점을 참조해오도록 수정


3. 성적
- 성적 테이블에서 이미 개설과목 코드를 참조하고 있으므로 교수코드를 참조할 필요는 없음
=> 교수코드 외래키는 삭제 